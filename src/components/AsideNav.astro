---
import { getCollection } from 'astro:content';

const articles = await getCollection('articles');
const links = articles.map(article => ({
  path: article.id,
  title: article.data.title
}));
---

<aside id="jl-aside-nav">
  <div class="jl-logo">
    <a href="/">JotLynx</a>
  </div>

  <nav>
    <ul>
      <li>
        <a href="/">Home</a>
      </li>
      {
        links.map(link => (
          <li>
            <a href={`/${link.path}`}>{link.title}</a>
          </li>
        ))
      }
    </ul>
  </nav>
</aside>

<style>
  aside {
    --jl-aside-nav-height: calc(100dvh - var(--jl-spacing-xxs) * 2);

    display: flex;
    flex-direction: column;
    background-color: var(--jl-color-bg-darker);
    border-radius: var(--jl-br-sm);
    box-shadow: var(--jl-elevation-2);
    height: var(--jl-aside-nav-height);
    max-height: var(--jl-aside-nav-height);
    overflow-y: scroll;
    margin-block: var(--jl-spacing-xxs);
    margin-inline: var(--jl-spacing-xxs) var(--jl-spacing-md);
    padding: var(--jl-spacing-lg) var(--jl-spacing-md);
  }

  .jl-logo {
    color: var(--jl-color-accent);
    font-size: 140%;
    margin-block-end: 60px;
  }

  ul {
    display: flex;
    flex-direction: column;
  }

  li {
    font-size: var(--jl-font-size-sm);
  }

  a,
  a:visited {
    font-weight: var(--jl-font-weight-text);
    text-decoration: none;
  }
</style>
