---
import { getCollection } from 'astro:content';

import MdLayout from '@/layouts/MdLayout.astro';
import getSortedArticles from '@/utils/getSortedArticles';

export async function getStaticPaths() {
  const rawArticles = await getCollection('articles');
  const articles = getSortedArticles(rawArticles);

  return articles.map(article => ({
    params: { slug: article.id },
    props: { article, articles }
  }));
}

const { article, articles } = Astro.props;
---

<MdLayout article={article} articles={articles} />
